---
title: ç³»ç»Ÿè®¾è®¡ä¹‹æ¶ˆæ¯ä¸­å¿ƒ
subtitle: ç³»ç»Ÿè®¾è®¡ä¹‹æ¶ˆæ¯ä¸­å¿ƒ
tags:
  - design
categories: Design
index_img: 'https://gitee.com/ispong/my-images/raw/master/blog-spring/spring/spring.png'
excerpt: ç³»ç»Ÿè®¾è®¡ä¹‹æ¶ˆæ¯ä¸­å¿ƒ
date: 2020-05-23 10:00:40
---

## ğŸ™‹ é—®é¢˜

1. è®¾è®¡å¦‚ä¸‹å›¾åŠŸèƒ½

![img](https://gitee.com/ispong/my-images/raw/master/blog-spring/design/9215ef.png) 
## ğŸ’¡ æ–¹æ³•

- æ¶ˆæ¯ä¸­å¿ƒæ¥å£åˆ†æ

```text
1. æ¶ˆæ¯å…¨éƒ¨/å•æ¡å·²è¯»æ¥å£  
2. æ¶ˆæ¯åˆ†é¡µåˆ†ç±»æŸ¥è¯¢æ¥å£ 
3. æ¶ˆæ¯ç‚¹å‡»è·³è½¬æ¥å£
4. æ¶ˆæ¯æœªè¯»æ•°é‡æ¥å£
```

- æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ï¼ˆæ”¯æŒå›½é™…åŒ–ï¼‰

> xdap_msg_center æ¶ˆæ¯ä¸­å¿ƒè®°å½•è¡¨ (è®°å½•æ¶ˆæ¯çš„ä¸€åˆ‡ä¿¡æ¯)

| å­—æ®µ | æè¿° | ç±»å‹ | ä¸ºç©º | ä¸»é”® | é»˜è®¤å€¼ |
| --- | --- | --- | --- | --- | --- |
| id | æ¶ˆæ¯é›ªèŠ±id  | varchar2(32) | éç©º | ä¸»é”®| |
| user_id | ç”¨æˆ·é›ªèŠ±id  | varchar2(32) | éç©º | | |
| msg_content_type | æ¶ˆæ¯å†…å®¹ç±»å‹ | varchar2(50) | éç©º | | |
| msg_content_value | æ¶ˆæ¯å†…å®¹å€¼  | varchar2(200) | éç©º | | |
| msg_date | æ¶ˆæ¯äº§ç”Ÿæ—¶é—´  | datetime | éç©º | | |
| is_read | æ˜¯å¦å·²è¯»  | int | éç©º | | 0 |
| is_handle | æ˜¯å¦å¾…æˆ‘å¤„ç†  | int | éç©º | | 0 |
| msg_type | æ¶ˆæ¯çš„ç±»å‹  | varchar2(50) | éç©º| | |
| msg_skip_code | ç‚¹å‡»è·³è½¬çš„æ ‡è¯†ç¼–ç   | varchar2(50)  |  | | |
| msg_skip_params | ç‚¹å‡»è·³è½¬çš„æºå¸¦å‚æ•°  | varchar2(300) | | | |
| owner | ç³»ç»Ÿå­—æ®µ  | varchar2(32) | éç©º| | |
| created_by | ç³»ç»Ÿå­—æ®µ  | varchar2(32) |éç©º | | |
| creation_date | ç³»ç»Ÿå­—æ®µ  | datetime |éç©º | | |
| last_updated_by | ç³»ç»Ÿå­—æ®µ  | varchar2(32) |éç©º | | |
| last_update_date | ç³»ç»Ÿå­—æ®µ  | datetime |éç©º | | |
| object_version_number | ç³»ç»Ÿå­—æ®µ  | int |éç©º | | |


- æ¥å£è®¾è®¡ ï¼ˆè¯·æ±‚å¤´ä¸­æ·»åŠ å›½é™…åŒ–å­—æ®µï¼Œè¯·æ±‚å¤´ä¸­æ·»åŠ tokenï¼‰

1. æ¶ˆæ¯å…¨éƒ¨å·²è¯»/å•ä¸ªé˜…è¯»æ¥å£

/msg/update/readMsg
```json
{
  "msgId": "ä¸ºç©ºé˜…è¯»å…¨éƒ¨"
}
```

```json
{
  "code": "200"
}
```

2. æ¶ˆæ¯åˆ†é¡µåˆ†ç±»æŸ¥è¯¢æ¥å£

/msg/query/queryMsg
```json
{
  "msgType": "SYSTEM_MSG/PERSONAL_MSG/ALL",
  "page": 1,
  "pageSize": 2
}
```

```json
{
  "data": [
    {
      "": "",
      "": "",
      "": ""
    }   
  ],
  "total": 100
}
```

3. æ¶ˆæ¯ç‚¹å‡»è·³è½¬æ¥å£

/msg/query/getMsgInfo
```json
{
  "msgId": ""
}
```

```json
{
  "data":
    {
      "msgId": "",
      "msgContent": "",
      "msgType": ""
    }   
}
```

4. æ¶ˆæ¯æœªè¯»æ•°é‡æ¥å£

/msg/calculate/countNoReadMsg
```text
è¯·æ±‚å¤´ï¼štoken
```

```json
{
  "data":
    {
      "msgCount": "0"
    }   
}
```

## ğŸ“ æ€»ç»“

ğŸˆğŸˆ xxx  ğŸ‰ğŸ‰ğŸ‰

## ğŸ” å‚è€ƒ

- æ— 